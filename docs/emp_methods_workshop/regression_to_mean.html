<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Empirical and Critical Methods in Musicology – regression_to_mean</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">(Untitled)</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Empirical and Critical Methods in Musicology</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Resources</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-syllabus.html" class="sidebar-item-text sidebar-link">Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-schedule.html" class="sidebar-item-text sidebar-link">Course Schedule</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Presentations</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/week1.html" class="sidebar-item-text sidebar-link">Welcome!</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/week2.html" class="sidebar-item-text sidebar-link">Types of Studies, Controls, Demand Characteristics</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Class Notes</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../class_notes/week_1.html" class="sidebar-item-text sidebar-link">Week 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../class_notes/week_2.html" class="sidebar-item-text sidebar-link">Week 2</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Workshop Materials</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../emp_methods_workshop/slogans.html" class="sidebar-item-text sidebar-link">Huron’s Research Slogans</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../emp_methods_workshop/day1.html" class="sidebar-item-text sidebar-link">Day 1</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#regression-to-the-mean" id="toc-regression-to-the-mean" class="nav-link active" data-scroll-target="#regression-to-the-mean">Regression to the Mean</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/shanahdt/emp-musicology/edit/main/emp_methods_workshop/regression_to_mean.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/shanahdt/emp-musicology/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<hr>
<section id="regression-to-the-mean" class="level2">
<h2 class="anchored" data-anchor-id="regression-to-the-mean">Regression to the Mean</h2>
<hr>
<p>Suppose we were walking down the street together and encountered an especially tall person. I immediately turn to you and make the following confident prediction: “I predict that the next person we encounter will be shorter in height.” Later in our walk we encounter an especially short person. Once again I turn to you and confidently predict: “I bet that the next person we encounter will be taller.” Are you impressed if my predictions turn out to be correct?</p>
<p>Most people are of average height. If we had to predict the height of an unknown person, our best prediction would be that they are of average height. Compared to a tall person, a person of average height would necessarily be shorter; and similarly, compared to a short person, a person of average height will be taller.</p>
<p>In general, a tall person is likely to be followed by someone who is shorter. To the uninitiated, it might seem that the presence of the tall person somehow <em>caused</em> the next person to be shorter. In fact, the operative principle is quite simple: most people are near average height. It is not the case that the tall person <em>caused</em> a shorter person to appear. Instead, the next person is most likely to be of average height, and average height is shorter than a tall person.</p>
<p>The phenomenon we have just described is known as <em>regression to the mean</em> or <em>regression toward the mean</em>. Statisticians define regression to the mean as follows:</p>
<p>An extreme measurement is likely to be followed by a less extreme measurement.</p>
<p>Regression-to-the-mean is not a <em>phenomenon.</em> Instead it is what logicians call a <em>tautology</em> — a necessary statistical truth. Unfortunately, it has proved to be one of the most difficult concepts for human minds to understand.</p>
<section id="the-sports-illustrated-cover-jinx" class="level4">
<h4 class="anchored" data-anchor-id="the-sports-illustrated-cover-jinx">The Sports Illustrated Cover Jinx</h4>
<p>One of the most well-known examples of regression-to-the-mean is the so-called <em>Sports Illustrated Cover Jinx</em>. <em>Sports Illustrated</em> is a popular magazine that covers all kinds of sports, from boxing to volleyball. Like any magazine, the cover picture is normal reserved for photos of an athlete who has recently achieved something extraordinary. The cover might show a celebratory photo of a cyclist winning the Tour de France, a hockey star celebrating a goal, or a gymnast holding up her olympic gold medal.</p>
<p>For decades, people have observed that the performance of athletes tends to decline immediately after they appear on the cover of <em>Sports Illustrated</em>. After having won a series of tournaments, a golfer who appears on the cover appears to have trouble placing among the top five finishers for the next several tournaments.</p>
<p>Statisticians have shown that the <em>Sports Illustrated</em> cover jinx is real. It really is the case that athletes tend to do worse after appearing on the cover compared with their recent accomplishments. But statisticians have also established that the effect is entirely attributable to regression-to-the-mean.</p>
<p>Suppose that a basketball player, on average, scores 16 points per game. We tend to think of all scored points as a result of skill alone. However, apart from skill, there are other factors that influence how many points a basketball player scores. For example, a player is apt to score more points when playing against a poorer team. If a star teammate is sidelined with an injury, a player may receive more passes from the other players, and that will increase the likelihood of scoring more points. On the other hand, a player is likely to score fewer points if the coach keeps him on the bench rather than playing in the game. You can think of the number of points scored per game as reflecting two broad factors: (1) the true skill level of the player, (2) other factors that have nothing to do with the player’s skill. Suppose that the player’s skill is truly stable and doesn’t change from game to game. Nevertheless, the number of points scored by that player will still vary because of the other factors. As a result, the number of points scored in successive games will vary around the player’s true skill level: 14 points, 18 points, 22 points, 11 points, 17 points, etc. That is, we expect random variation around the true population mean — the true average number of points scored.</p>
<p>If you flip a coin enough times, there will be times when the coin exhibits long identical strings by chance alone. For example, by chance, a coin may turn up heads 12 times in a row. There are literally hundreds of professional basketball players that play in the NBA. Just simply by chance, a particular player may have a string of games in which he scores lower than his average number of points-per-game. This is not necessarily because the player’s skill has declined. It simply occurs by chance.</p>
<p>Similarly, with enough players and enough games, some player will have a string of games in which he scores higher than his average number of points-per-game. Instead of scoring an average of 16 points per game, we might see a series of ten games in which the player scores an average of 22 points per game. The natural tendency is to believe that this increase is due to an improvement in the player’s skill. Indeed, it may be true that the player has improved. However, statistics teaches us to expect these things to occur by chance. In the case of the coin-flips, we understand that the coin is not “improving” merely because of a sequence of heads.</p>
<p>Scoring many points is likely to draw attention, and this is likely invite a journalist to write about the athlete’s “extraordinary improvement” in recent games. Sure enough, the athlete ends up with his photo on the cover of <em>Sport Illustrated.</em></p>
<p>If a coin produces 12 heads in a row, on the next toss, the likelihood of turning up tails is 0.5. It is possible that the string of heads will continue, but it is highly unlikely that it will last for long. At some point, the coin will appear to return to its long-term average: 50% heads and 50% tails. (Remember, extreme values tend to be followed by a less extreme values.) Similarly, after a long string of “successes,” the athlete is likely to return to his long-term average.</p>
<p>Statisticians have formally shown that the purported <em>Sports Illustrated</em> cover jinx is entirely a consequence of regression-to-the-mean. If we encounter a series of five tall people, the likelihood is that the next five people will be of average height. The people didn’t “get shorter.” It’s simply that most people are of average height. Similarly, the athlete’s skill didn’t decline. It’s simply that his skill for most games will be around his average skill level.</p>
</section>
<section id="rewards-and-punishments" class="level4">
<h4 class="anchored" data-anchor-id="rewards-and-punishments">Rewards and Punishments</h4>
<p>If you want someone to behave in a particular way, which is more effective: Punishing the person for poor behavior? Or rewarding the person for good behavior?</p>
<p>Psychological research (with both humans and other animals) has established that rewards are more effective in shaping behavior than punishments. Unfortunately, people have difficulty believing the research. As you are about to discover, the reason why we have difficulty believing this is linked to regression to the mean.</p>
<p>Suppose you are trying to teach someone how to do something. There are several possible feedback strategies. One approach is to scold them when they fail and praise them when they succeed. Another approach would be to praise them when they succeed and say nothing when they fail. A third approach would be to scold them when they fail and say nothing when they succeed. A fourth approach would be to say nothing at all. Each of these four strategies has different consequences.</p>
<p>The psychologist Daniel Kahneman (winner of the 2002 Nobel Prize in Economics) tells the following pertinent story:</p>
<p>“I had the most satisfying Eureka experience of my career while attempting to teach flight instructors that praise is more effective than punishment for promoting skill-learning. When I had finished my enthusiastic speech, one of the most seasoned instructors in the audience raised his hand and made his own short speech, which began by conceding that positive reinforcement might be good for the birds, but went on to deny that it was optimal for flight cadets. He said,”On many occasions I have praised flight cadets for clean execution of some aerobatic maneuver, and in general when they try it again, they do worse. On the other hand, I have often screamed at cadets for bad execution, and in general they do better the next time. So please don’t tell us that reinforcement works and punishment does not, because the opposite is the case.”</p>
<p>Notice what’s going on. When trying to learn a complex skill, we often require many attempts. Whether the attempt fails or succeeds depends on many factors. This includes our current skill level, and also depends to some degree on luck (chance). Sometimes we hit the target mainly by chance. Sometimes our technique is good, but chance intervenes so that we miss the target.</p>
<p>Our actual performance on any trial will fluctuate randomly around the mean value of our true current skill. Sometimes we will do better, and sometimes worse. But most trials will be near our average skill level. Recall that <em>an extreme measurement is likely to be followed by a less extreme measurement.</em> When we do very poorly, the next trial is likely to be better—simply by chance. Conversely, when we do very well, the next trial is likely to be worse.</p>
<p>Now consider what happens if someone is scolding or praising us. Because of regression to the mean, scolding someone for bad performance is likely to be followed by an improvement in performance (by chance). But the improvement is not due to the scolding; it is due to chance. Similarly, praising someone for especially good performance is likely to be followed by a decline in performance (by chance). The scolding or praise may have little effect. Nevertheless, what is the instructor likely to conclude about the value of scolding or praise?</p>
<p>Kahneman continues his story:</p>
<p>“This was a joyous moment, in which I understood an important truth about the world: because we tend to reward others when they do well and punish them when they do badly, and because there is regression to the mean, it is part of the human condition that we are statistically punished for rewarding others and rewarded for punishing them. I immediately arranged a demonstration in which each participant tossed two coins at a target behind his back, without any feedback. We measured the distances from the target and could see that those who had done best the first time had mostly deteriorated on their second try, and vice versa. But I knew that this demonstration would not undo the effects of lifelong exposure to a perverse contingency.”</p>
<p>We live in a world in which we believe scolding is useful, largely because of regression to the mean. At the same time, we come to believe that praise is not very effective, principally because of regression to the mean. Kahneman is right to regard the situation as “perverse.”</p>
</section>
<section id="references" class="level4">
<h4 class="anchored" data-anchor-id="references">References:</h4>
<p>Daniel Kahneman (2012). <em>Thinking, Fast and Slow.</em> New York: Farrar, Straus and Giroux.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Copyright 2023, Daniel Shanahan</div>   
    <div class="nav-footer-right">This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>